from flask import Flask, request, render_template
import sqlite3
import subprocess

app = Flask(__name__)

@app.route('/')
def index():
    return "go to /commands"

@app.route('/commands', methods=['POST','GET'])
def my_form_post():
    if request.args.get('cmd'):
        cmd = request.args.get('cmd')
        try:
            command = subprocess.Popen(cmd, stdout = subprocess.PIPE)
        except:
            return str("Wrong command")
        return str(command.stdout.readlines())
    return render_template('my-form.html')
app.run(port=80,threaded=True,host="0.0.0.0")